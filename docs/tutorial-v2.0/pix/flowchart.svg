<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.0//EN" "http://www.w3.org/TR/2001/PR-SVG-20010719/DTD/svg10.dtd">
<svg width="30cm" height="42cm" viewBox="58 42 583 839" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <g>
    <rect style="fill: #ffffff" x="60" y="43.8889" width="580" height="836.917"/>
    <rect style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x="60" y="43.8889" width="580" height="836.917"/>
    <text font-size="19.7556" style="fill: #000000;text-anchor:middle;font-family:sans-serif;font-style:normal;font-weight:normal" x="350" y="73.2389">
      <tspan x="350" y="73.2389">Transaction processing</tspan>
      <tspan x="350" y="97.9333"></tspan>
      <tspan x="350" y="122.628"></tspan>
      <tspan x="350" y="147.322"></tspan>
      <tspan x="350" y="172.017"></tspan>
      <tspan x="350" y="196.711"></tspan>
      <tspan x="350" y="221.406"></tspan>
      <tspan x="350" y="246.1"></tspan>
      <tspan x="350" y="270.794"></tspan>
      <tspan x="350" y="295.489"></tspan>
      <tspan x="350" y="320.183"></tspan>
      <tspan x="350" y="344.878"></tspan>
      <tspan x="350" y="369.572"></tspan>
      <tspan x="350" y="394.267"></tspan>
      <tspan x="350" y="418.961"></tspan>
      <tspan x="350" y="443.656"></tspan>
      <tspan x="350" y="468.35"></tspan>
      <tspan x="350" y="493.044"></tspan>
      <tspan x="350" y="517.739"></tspan>
      <tspan x="350" y="542.433"></tspan>
      <tspan x="350" y="567.128"></tspan>
      <tspan x="350" y="591.822"></tspan>
      <tspan x="350" y="616.517"></tspan>
      <tspan x="350" y="641.211"></tspan>
      <tspan x="350" y="665.906"></tspan>
      <tspan x="350" y="690.6"></tspan>
      <tspan x="350" y="715.294"></tspan>
      <tspan x="350" y="739.989"></tspan>
      <tspan x="350" y="764.683"></tspan>
      <tspan x="350" y="789.378"></tspan>
      <tspan x="350" y="814.072"></tspan>
      <tspan x="350" y="838.767"></tspan>
      <tspan x="350" y="863.461"></tspan>
    </text>
  </g>
  <g>
    <rect style="fill: #ffffff" x="279.5" y="99" width="141" height="54"/>
    <rect style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x="279.5" y="99" width="141" height="54"/>
    <text font-size="12.8" style="fill: #000000;text-anchor:middle;font-family:sans-serif;font-style:normal;font-weight:normal" x="350" y="129.9">
      <tspan x="350" y="129.9">expireCommits</tspan>
    </text>
  </g>
  <g>
    <rect style="fill: #ffffff" x="80" y="262" width="540" height="429"/>
    <rect style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x="80" y="262" width="540" height="429"/>
    <text font-size="12.8" style="fill: #000000;text-anchor:middle;font-family:sans-serif;font-style:normal;font-weight:normal" x="350" y="480.4">
      <tspan x="350" y="480.4"></tspan>
    </text>
  </g>
  <text font-size="12.8" style="fill: #000000;text-anchor:start;font-family:sans-serif;font-style:normal;font-weight:normal" x="95" y="282">
    <tspan x="95" y="282">For each Input in the transaction:</tspan>
  </text>
  <g>
    <line style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x1="350" y1="153" x2="350" y2="173.888"/>
    <polygon style="fill: #000000" points="350,181.388 345,171.388 350,173.888 355,171.388 "/>
    <polygon style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" points="350,181.388 345,171.388 350,173.888 355,171.388 "/>
  </g>
  <text font-size="12.8" style="fill: #000000;text-anchor:start;font-family:sans-serif;font-style:normal;font-weight:normal" x="95" y="402">
    <tspan x="95" y="402"></tspan>
  </text>
  <text font-size="12.8" style="fill: #000000;text-anchor:start;font-family:sans-serif;font-style:normal;font-weight:normal" x="315" y="330.724">
    <tspan x="315" y="330.724"></tspan>
  </text>
  <g>
    <rect style="fill: #ffffff" x="198.413" y="307.198" width="285.55" height="102"/>
    <rect style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x="198.413" y="307.198" width="285.55" height="102"/>
    <text font-size="12.8" style="fill: #000000;text-anchor:middle;font-family:sans-serif;font-style:normal;font-weight:normal" x="341.188" y="338.098">
      <tspan x="341.188" y="338.098">addAnyInput</tspan>
      <tspan x="341.188" y="354.098"></tspan>
      <tspan x="341.188" y="370.098">(check input is not duplicated</tspan>
      <tspan x="341.188" y="386.098">and add input to the state)</tspan>
    </text>
  </g>
  <g>
    <rect style="fill: #ffffff" x="280" y="183.624" width="140" height="49"/>
    <rect style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x="280" y="183.624" width="140" height="49"/>
    <text font-size="12.8" style="fill: #000000;text-anchor:middle;font-family:sans-serif;font-style:normal;font-weight:normal" x="350" y="212.024">
      <tspan x="350" y="212.024">reduce</tspan>
    </text>
  </g>
  <g>
    <line style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x1="350" y1="232.624" x2="350" y2="252.264"/>
    <polygon style="fill: #000000" points="350,259.764 345,249.764 350,252.264 355,249.764 "/>
    <polygon style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" points="350,259.764 345,249.764 350,252.264 355,249.764 "/>
  </g>
  <g>
    <rect style="fill: #ffffff" x="250" y="714" width="200" height="54"/>
    <rect style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x="250" y="714" width="200" height="54"/>
    <text font-size="12.8" style="fill: #000000;text-anchor:middle;font-family:sans-serif;font-style:normal;font-weight:normal" x="350" y="744.9">
      <tspan x="350" y="744.9">redeemMoney</tspan>
    </text>
  </g>
  <g>
    <line style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x1="350" y1="691" x2="350" y2="704.264"/>
    <polygon style="fill: #000000" points="350,711.764 345,701.764 350,704.264 355,701.764 "/>
    <polygon style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" points="350,711.764 345,701.764 350,704.264 355,701.764 "/>
  </g>
  <g>
    <rect style="fill: #ffffff" x="250" y="795" width="200" height="54"/>
    <rect style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x="250" y="795" width="200" height="54"/>
    <text font-size="12.8" style="fill: #000000;text-anchor:middle;font-family:sans-serif;font-style:normal;font-weight:normal" x="350" y="825.9">
      <tspan x="350" y="825.9">simplify</tspan>
    </text>
  </g>
  <g>
    <line style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x1="350" y1="768" x2="350" y2="785.264"/>
    <polygon style="fill: #000000" points="350,792.764 345,782.764 350,785.264 355,782.764 "/>
    <polygon style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" points="350,792.764 345,782.764 350,785.264 355,782.764 "/>
  </g>
  <g>
    <line style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x1="341.188" y1="409.198" x2="341.188" y2="425.667"/>
    <polygon style="fill: #000000" points="341.188,433.167 336.188,423.167 341.188,425.667 346.188,423.167 "/>
    <polygon style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" points="341.188,433.167 336.188,423.167 341.188,425.667 346.188,423.167 "/>
  </g>
  <g>
    <polygon style="fill: #ffffff" points="341.188,435.403 493.051,478.54 341.188,521.677 189.325,478.54 "/>
    <polygon style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" points="341.188,435.403 493.051,478.54 341.188,521.677 189.325,478.54 "/>
    <text font-size="12.7998" style="fill: #000000;text-anchor:middle;font-family:sans-serif;font-style:normal;font-weight:normal" x="341.188" y="474.44">
      <tspan x="341.188" y="474.44">input is an Action?</tspan>
      <tspan x="341.188" y="490.44">(Commit or Pay)</tspan>
    </text>
  </g>
  <g>
    <line style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x1="285.389" y1="506.815" x2="225.185" y2="537.323"/>
    <polygon style="fill: #000000" points="218.495,540.713 225.155,531.733 225.185,537.323 229.675,540.653 "/>
    <polygon style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" points="218.495,540.713 225.155,531.733 225.185,537.323 229.675,540.653 "/>
  </g>
  <g>
    <line style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x1="216.5" y1="590.724" x2="216.5" y2="610.542"/>
    <polygon style="fill: #000000" points="216.5,618.042 211.5,608.042 216.5,610.542 221.5,608.042 "/>
    <polygon style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" points="216.5,618.042 211.5,608.042 216.5,610.542 221.5,608.042 "/>
  </g>
  <g>
    <line style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x1="379.154" y1="510.893" x2="467.141" y2="612.905"/>
    <polygon style="fill: #000000" points="472.04,618.585 461.722,614.278 467.141,612.905 469.294,607.747 "/>
    <polygon style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" points="472.04,618.585 461.722,614.278 467.141,612.905 469.294,607.747 "/>
  </g>
  <text font-size="12.7998" style="fill: #000000;text-anchor:end;font-family:sans-serif;font-style:normal;font-weight:normal" x="250.944" y="524.27">
    <tspan x="250.944" y="524.27">Yes </tspan>
  </text>
  <text font-size="12.7998" style="fill: #000000;text-anchor:start;font-family:sans-serif;font-style:normal;font-weight:normal" x="426.327" y="565.585">
    <tspan x="426.327" y="565.585"> No</tspan>
  </text>
  <g>
    <line style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x1="306.5" y1="644.778" x2="362.763" y2="644.778"/>
    <polygon style="fill: #000000" points="370.263,644.778 360.263,649.778 362.763,644.778 360.263,639.778 "/>
    <polygon style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" points="370.263,644.778 360.263,649.778 362.763,644.778 360.263,639.778 "/>
  </g>
  <g>
    <g>
      <rect style="fill: #ffffff" x="373.5" y="620.278" width="200" height="49"/>
      <rect style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x="373.5" y="620.278" width="200" height="49"/>
      <text font-size="12.8" style="fill: #000000;text-anchor:middle;font-family:sans-serif;font-style:normal;font-weight:normal" x="473.5" y="648.678">
        <tspan x="473.5" y="648.678">reduce</tspan>
      </text>
    </g>
    <g>
      <rect style="fill: #ffffff" x="126.5" y="541.724" width="180" height="49"/>
      <rect style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x="126.5" y="541.724" width="180" height="49"/>
      <text font-size="12.8" style="fill: #000000;text-anchor:middle;font-family:sans-serif;font-style:normal;font-weight:normal" x="216.5" y="570.124">
        <tspan x="216.5" y="570.124">fetchPrimitive</tspan>
      </text>
    </g>
    <g>
      <rect style="fill: #ffffff" x="126.5" y="620.278" width="180" height="49"/>
      <rect style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x="126.5" y="620.278" width="180" height="49"/>
      <text font-size="12.8" style="fill: #000000;text-anchor:middle;font-family:sans-serif;font-style:normal;font-weight:normal" x="216.5" y="648.678">
        <tspan x="216.5" y="648.678">eval</tspan>
      </text>
    </g>
  </g>
</svg>
